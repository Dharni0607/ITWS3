<!DOCTYPE html>
<html>
<title>ITWS3-GROUP-3</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amatic+SC">
<script type="text/javascript">
	window.onload = function () {

      var dps = [{x: 1, y: 10}, {x: 2, y: 13}, {x: 3, y: 18}, {x: 4, y: 20}, {x: 5, y: 17},{x: 6, y: 10}, {x: 7, y: 13}, {x: 8, y: 18}, {x: 9, y: 20}, {x: 10, y: 17}];   
      var chart = new CanvasJS.Chart("temp",{
      	title :{
      		text: "Past temperate values"
      	},
      	axisX: {						
      		title: "Date Time"
      	},
      	axisY: {						
      		title: "Temperature"
      	},
      	data: [{
      		type: "line",
      		dataPoints : dps
      	}]
      });

      chart.render();
      var xVal = dps.length + 1;
      var yVal = 15;	
      var updateInterval = 5000;
	var t1=0;
	var t2=0;
	var swap;
      var updateChart = function () {
      	
      	
      	//yVal = yVal +  Math.round(5 + Math.random() *(-5-5));
		
	//t2=yVal; //req
	if(t1!=t2){
		dps.push({x: xVal,y: t2});
      		t1=t2;
	}
      	//yVal=15;
      	//dps.push({x: xVal,y: yVal});
      	
      	xVal++;
      	if (dps.length >  10 )
      	{
      		dps.shift();				
      	}

      	chart.render();		

	// update chart after specified time. 

};

setInterval(function(){updateChart()}, updateInterval); 
}
</script>
<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<style>
body, html {height: 100%}
body,h1,h2,h3,h4,h5,h6 {font-family: "Amatic SC", sans-serif}
.menu {display: none}
.bgimg {
    background-repeat: no-repeat;
    background-size: cover;
    background-image: url("http://vunature.com/wp-content/uploads/2016/11/plants-blurred-focus-macro-nature-moss-wallpaper-download-hd-1920x1080.jpg");
    min-height: 90%;

}</style>
<body>

<!-- Navbar (sit on top) -->
<div class="w3-top w3-hide-small">
  <div class="w3-bar w3-xlarge w3-black w3-opacity w3-hover-opacity-off" id="myNavbar" ><b>
    <a href="#" class="w3-bar-item w3-button">HOME</a>
    <a href="#menu" class="w3-bar-item w3-button">MACRO DETAILS</a>
    <a href="#about" class="w3-bar-item w3-button">PLANT DETAILS</a>
    <a href="#contact" class="w3-bar-item w3-button">TEAM</a></b>
  </div>
</div>
  
<!-- Header with image -->
<header class="bgimg w3-display-container w3-grayscale-min" id="home">
  <div class="w3-display-bottomleft w3-padding">
    <span class="w3-tag w3-xlarge"><b>Let's turn on water saving mode</b></span>
  </div>
  <div class="w3-display-middle w3-center">
    <span class="w3-text-red w3-hide-small" style="font-size:100px"><b>WATER<br>MANAGEMENT</b></span>
    <span class="w3-text-red w3-hide-large w3-hide-medium" style="font-size:60px"><b>WATER<br>MANAGMENT</b></span>
    <!--<p><a href="#menu" class="w3-button w3-xxlarge w3-black">Let me see the menu</a></p> -->
  </div>
</header>

<!-- Menu Container -->
<div class="w3-container w3-black w3-padding-64 w3-xxlarge" id="menu">
  <div class="w3-content">  
    <h1 class="w3-center w3-jumbo" style="margin-bottom:64px"><b>MACRO DETAILS</b></h1>
    <div class="w3-row w3-center w3-border w3-border-dark-grey">
      <a href="javascript:void(0)" onclick="openMenu(event, 'Temperature');" id="myLink">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red"><b>TEMPERATURE</b></div>
      </a>
      <a href="javascript:void(0)" onclick="openMenu(event, 'Humidity');">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red"><b>HUMIDITY</b></div>
      </a>
      <a href="javascript:void(0)" onclick="openMenu(event, 'waterLevel');">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red"><b>WATER LEVEL</b></div>
      </a>
    </div>

    <div id="Temperature" class="w3-container menu w3-padding-32 w3-white">  
      <h1><b>Present temperature</b> <span class="w3-right w3-tag w3-dark-grey w3-round">{{all_sensors.temperature}}</span></h1><!--br>
<div id="temp" style="height: 300px; width: 100%;">
	</div-->

    </div>
    <div id="Humidity" class="w3-container menu w3-padding-32 w3-white">
      <h1><b>Present Humidity</b> <span class="w3-right w3-tag w3-dark-grey w3-round">{{all_sensors.humidity}}</span></h1>
    </div>
    <div id="waterLevel" class="w3-container menu w3-padding-32 w3-white">
      <h1><b>Present water level</b> <span class="w3-right w3-tag w3-dark-grey w3-round">{{all_sensors.wl}}</span></h1>
    </div><br>
  </div>
</div>
<!--Plants -->
<div class="w3-container w3-gray w3-padding-64 w3-xxlarge" id="about">
  <div class="w3-content">  
    <h1 class="w3-center w3-jumbo" style="margin-bottom:64px"><b>PLANT DETAILS</b></h1>
    <div class="w3-row w3-center w3-border w3-border-dark-grey">
      <a href="javascript:void(0)" onclick="openMenu(event, 'Plant1');" id="myLink">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red"><b>PLANT 1</div>
      </a>
      <a href="javascript:void(0)" onclick="openMenu(event, 'Plant2');">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red">PLANT 2</div>
      </a>
      <a href="javascript:void(0)" onclick="openMenu(event, 'Plant3');">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red">PLANT 3</b></div>
      </a>
    </div>
    <div id="Plant1" class="w3-container menu w3-padding-32 w3-black">    
      <h1><b>Soil Moisture</b> <span class="w3-right w3-tag w3-dark-grey w3-round">{{all_sensors.ps1}}</span></h1>
	<h1><b>Actuatore State</b> <span class="w3-right w3-tag w3-dark-grey w3-round">{{all_sensors.as1}}</span></h1>
    </div>
    <div id="Plant2" class="w3-container menu w3-padding-32 w3-black">
      <h1><b>Soil Moisture</b> <span class="w3-right w3-tag w3-dark-grey w3-round">{{all_sensors.ps2}}</span></h1>
	<h1><b>Actuator State</b> <span class="w3-right w3-tag w3-dark-grey w3-round">{{all_sensors.as2}}</span></h1>
    </div>
    <div id="Plant3" class="w3-container menu w3-padding-32 w3-black">
      <h1><b>Soil Moisture</b> <span class="w3-right w3-tag w3-dark-grey w3-round">{{all_sensors.ps1}}</span></h1>
    </div><br>
  </div>
</div>


<!-- Contact (with google maps) -->
<center><div id="googleMap" class="w3-white" style="width:80%;height:400px;"></div></center>

<div id="contact" class="w3-container w3-padding-64 w3-blue-grey w3-grayscale-min w3-xlarge">
  <div class="w3-content">
    <h1  class="w3-center w3-jumbo" style="margin-bottom:64px">TEAM</h1>
    <p>Find us at some address at some place or call us at 05050515-122330</p>
    <p><span class="w3-tag">FYI!</span> We offer full-service catering for any event, large or small. We understand your needs and we will cater the food to satisfy the biggerst criteria of them all, both look and taste.</p>
    <p class="w3-xxlarge"><strong>Reserve</strong> a table, ask for today's special or just send us a message:</p>
    <form action="/action_page.php" target="_blank">
      <p><input class="w3-input w3-padding-16 w3-border" type="text" placeholder="Name" required name="Name"></p>
      <p><input class="w3-input w3-padding-16 w3-border" type="number" placeholder="How many people" required name="People"></p>
      <p><input class="w3-input w3-padding-16 w3-border" type="datetime-local" placeholder="Date and time" required name="date" value="2017-11-16T20:00"></p>
      <p><input class="w3-input w3-padding-16 w3-border" type="text" placeholder="Message \ Special requirements" required name="Message"></p>
      <p><button class="w3-button w3-light-grey w3-block" type="submit">SEND MESSAGE</button></p>
    </form>
  </div>
</div>

<!-- Footer -->
<footer class="w3-center w3-black w3-padding-48 w3-xxlarge">
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>

<!-- Add Google Maps -->
<script>
function myMap()
{

  myCenter=new google.maps.LatLng(13.5548, 80.0273);
  var mapOptions= {
    center:myCenter,
    zoom:12, scrollwheel: false, draggable: false,
    mapTypeId:google.maps.MapTypeId.ROADMAP
  };
  var map=new google.maps.Map(document.getElementById("googleMap"),mapOptions);

  var marker = new google.maps.Marker({
    position: myCenter,
  });
  marker.setMap(map);
}

// Tabbed Menu
function openMenu(evt, menuName) {
  var i, x, tablinks;
  x = document.getElementsByClassName("menu");
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablink");
  for (i = 0; i < x.length; i++) {
     tablinks[i].className = tablinks[i].className.replace(" w3-red", "");
  }
  document.getElementById(menuName).style.display = "block";
  evt.currentTarget.firstElementChild.className += " w3-red";
}
document.getElementById("myLink").click();
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDKZv2QkKMA2WtyrOIqfg0xhB_dr4mjkqw &callback=myMap"></script>
<!--
To use this code on your website, get a free API key from Google.
Read more at: https://www.w3schools.com/graphics/google_maps_basic.asp
-->

</body>
</html>

